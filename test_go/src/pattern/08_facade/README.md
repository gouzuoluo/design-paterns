# 外观模式（facade）

外观模式也是改变接口，但它的目的是简化接口。它将一个或数个类的复杂的一切都隐藏在背后，
只露出一个干净美好的外观。

* 外观模式不只是简化了接口，也将客户从组件的子系统中解耦。
* 外观模式和适配器都可以包装许多类，但他们的意图不同。
* 外观模式的意图是简化接口。
* 适配器的意图是将接口转换成客户所期望的其他接口。

## 定义外观模式

>外观模式：提供一个统一的接口，用来访问子系统中的一群接口。外观定义了一个高层接口，
让子系统更容易使用。

## 最少知识原则

设计原则7：只和你的密友谈话（最少知识原则，又名墨忒耳法则）

PS：这个原则希望我们在设计中，不要让太多的类耦合在一起，免得修改系统中的一部分，会
影响到其他部分。如果许多类之间相互依赖，那么系统就会变成一个易碎的系统，维护成本高。

使用最少知识原则的方针：就任何对象而言，在该对象的方法内，我们只应该调属于以下范围的方法：
* 该对象本身
* 被当做方法的参数而传递进来的对象
* 此方法所创建或实例化的任何对象
* 对象的任何组件

如果调用从另一个调用中返回的对象的方法，就相当于向另一个对象的子部分发请求（而增加我们
直接认识对象数目）。这种情况下，原则要我们改为要求对象为我们做出请求，这么一来，我们就
不需要认识该对象的组件了（让我们的朋友圈维持在最小的状态）。如：

```
//不采用最少知识原则的写法
public float getTemp(){
    //从气象站取得温度计对象，然后从该对象取得温度
    Thermometer thermometer = station.getThermomoter();
    return thermometer.getThemperature();
}

//采用最少知道原则的写法
public float getTemp(){
    //在气象站中增加一个房，用来向温度计请求温度。这可以减少我们所依赖的类的数目
    return station.getTemperature();
}

```

PS:采用最少知识原则可减少对象之间的依赖，便可以减少维护成本；但这个原则也会导致更多的
“包装”类被制造出来，以处理和其他组件的沟通，会增加开发成本和降低运行性能。

##要点

* 当需要简化并统一一个很大的接口或者一群复杂的接口时，使用外观。
* 外观将客户从一个复杂的子系统中解耦。
* 实现一个外观，需要将子系统组合进外观众，然后将工作委托给子系统执行。
* 你可以为一个子系统实现一个以上的外观。
* 外观模式将一群对象“包装”起来以简化接口。